<link rel="import" href="../../bower/polymer/polymer.html">

<link rel="import" href="./tickers/random-ticker.html">
<link rel="import" href="./tickers/stock-ticker.html">

<dom-module id="app-ticker">
    <template>
      <stock-ticker  id="yahoo" interval="[[interval]]" symbol="[[symbol]]"></stock-ticker>
      <random-ticker id="random" interval="[[interval]]"></random-ticker>
    </template>
    <script>
        (function () {
            let series;

            class AppTicker {
                beforeRegister() {
                    this.is = 'app-ticker';

                    this.properties = {
                        interval: {
                            type: Object,
                            notify: true
                        },
                        symbol: {
                            type: String,
                            notify: true,
                            observer: 'updateSymbol'
                        }
                    };

                }

                ready() {
                    this.current = this.$.random;
                }

                updateSymbol() {
                    this.current.stop();
                    this.current = this.symbol === 'random' ? this.$.random : this.$.yahoo;
                    this.current.start();
                }
            }

            Polymer(AppTicker);
        })();
    </script>
</dom-module>
