<link rel="import" href="../../bower/polymer/polymer.html">

<link rel="import" href="reducers/graph-reducer.html">
<link rel="import" href="reducers/page-reducer.html">
<link rel="import" href="reducers/quote-reducer.html">
<link rel="import" href="reducers/state-reducer.html">

<dom-module id="app-reducer">
    <template>
        <graph-reducer></graph-reducer>
        <page-reducer></page-reducer>
        <quote-reducer></quote-reducer>
        <state-reducer></state-reducer>
    </template>
    <script>
        (function () {
            class AppReducer {
                beforeRegister() {
                    this.is = 'app-reducer';
                }

                transform(state, action, data) {
                    for( let i = 0; i < this.children.length; i++) {
                        state = this.children[i].transform(state, action, data);
                    };

                    return state;
                }
            }

            Polymer(AppReducer);
        })();
    </script>
</dom-module>
