<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

<link rel="import" href="../../bower/polymer/polymer.html">
<link rel="import" href="../../bower/paper-slider/paper-slider.html">
<link rel="import" href="app-ticker.html">
<link rel="import" href="stock-graph.html">
<link rel="import" href="stock-graph-filter.html">

<dom-module id="stock-view">
    <style>
      * {
        --paper-input-container-input-color: #fff;
      }
      :host {
        display: flex;
        justify-content: center;
      }
      .graph {
        position: relative;
        width: 600px;
        height: 403px;
        background-image: url(../img/background-blur.jpg);
      }
      .overlay {
        background-color: #fff;
        opacity: .3;
        top: 0;
        bottom: 0;
        left: 0;
        height: 0;
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #highcharts {
        border: 2px solid #fff;
        border-radius: 3px;
      }

      :host > article {
          margin-left: 30px;
      }

    </style>
    <template>

        <content></content>
        <article class=graph>
              <div class="overlay"></div>
              <stock-graph quote="[[quote]]" data="[[data]]" points="[[filter.points]]"></stock-graph>
              <stock-graph-filter filter="[[filter]]"></stock-graph-filter>
        </article>
        <div>{{pageHits}}</div>
    </template>
    <script>
        (function () {
            let series;

            class StockView {
                beforeRegister() {
                    this.is = 'stock-view';

                    this.properties = {
                        filter: {
                            type: Object,
                            notify: true
                        },
                        quote: {
                            type: Object,
                            notify: true
                        },
                        pageHits: {
                            type: Number,
                            notify: true,
                            observer: 'handleHits'
                        }
                    };
                }
                handleHits() {
                    debugger;
                }
            }

            Polymer(StockView);
        })();
    </script>
</dom-module>
